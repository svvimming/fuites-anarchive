simulation:
  window:
    width: 1600
    height: 1000
    ui_bar_height: 60
  ui_enabled: true
  fps: 60
  gravity_x: 0
  gravity_y: 0
  chunk_velocity_min: -200
  chunk_velocity_max: 200
  torus_world: false
  buttons:
    width: 120
    height: 40
    gap: 10

worm:
  max_chunks: 15
  appetite:
    min_difference: 0.6
    max_difference: 1
    hue_weight: 0.6
    saturation_weight: 0.2
    value_weight: 0.2
  # --- SUPERABUNDANCE: When there are more than threshold particles ---
  # During superabundance, multiple worms are spawned to handle the increased load
  superabundance:
    threshold: 1000  # Number of particles that triggers superabundance
    worms_per_upload: 2  # Number of worms spawned per upload during superabundance
    auto_export_capped_after_ms: 45000  # Auto-export glues capped longer than this during superabundance
  glue:
    enabled: true
    max_glued_chunks: 100
    max_active_glues: 6
    vicinity:
      min_difference: 0
      max_difference: 0.07
      hue_weight: 0.6
      saturation_weight: 0.2
      value_weight: 0.2
    flocking:
      # maxspeed: 50
      # maxforce: 10
      # desired_separation: 30
      # separate_force_mult: 70
      # seek_force_mult: 60
      #     flocking:
      maxspeed: 75
      maxforce: 10
      desired_separation: 30
      separate_force_mult: 40
      seek_force_mult: 35
    visual:
      enabled: true
      glow_radius: 20
      pulse_speed: 0.05
      pulse_min: 0.7
      pulse_max: 1.0
  history_panel:
    enabled: true
    display_area:
      x: 10
      y: 70
      width: 300
      height: 700
    chunk_preview_size: 36
    text_height: 18
    spacing: 6
    show_hsv_text: false

segmentation:
  # --- Felzenszwalb Segmentation ---
  # Hyperparameters to adjust:
  # scale (int, default: 100), sigma (float, default: 0.8), min_size (int, default: 20)
  # Increase scale -> fewer segments; Decrease scale -> more segments
  # Increase sigma -> smoother image, fewer segments; Decrease sigma -> sharper details
  # Increase min_size -> larger minimum segments; Decrease min_size -> smaller segments
  felzenszwalb:
    scale: 150
    sigma: 3
    min_size: 20

compression:
  max_size: 10000
  min_entropy: 10
  downsample_factor: 0.3

colors:
  BLACK: [0, 0, 0]
  WHITE: [255, 255, 255]
  DARK_GRAY: [70, 70, 70]
  UI_BG: [30, 30, 30]
  RED: [255, 0, 0]
  PANEL_BG: [40, 40, 40]

server:
  host: 127.0.0.1
  port: 5055
  max_download_bytes: 26214400 # 25MB
  download_timeout_sec: 15

# --- Sound processing (for sound_chunking integration) ---
sound:
  felzenszwalb:
    scale: 150
    sigma: 3
    min_size: 20
  min_area_pixels: 300
  min_time_seconds: 0.5
  min_energy_ratio: 0.001
  min_loudness_db: -70.0
  max_shapes: 200
  points_per_second: 100
  resampled_points_per_chunk: 128
  chunk_surface:
    line_width: 5
    padding: 6
  # Dynamic sizing by duration (linear between min and max)
  duration_size:
    min_seconds: 0.5
    max_seconds: 60.0
    min_width: 50
    min_height: 50
    max_width: 800
    max_height: 800